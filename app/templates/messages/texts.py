"""Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ°."""

START_MESSAGE = """ğŸ‘‹ Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ! Ğ¯ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ñƒ Ğ²Ğ°Ğ¼ Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ½Ğ°Ñ‚ÑĞ¶Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ñ‚Ğ¾Ğ»ĞºĞ°.

ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ğ·Ğ°Ğ¹Ğ¼Ñ‘Ñ‚ 3-5 Ğ¼Ğ¸Ğ½ÑƒÑ‚. Ğ¯ Ğ·Ğ°Ğ´Ğ°Ğ¼ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ¾ Ğ²Ğ°ÑˆĞµĞ¼ Ğ¿Ğ¾Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğ¸, Ğ¸ Ğ²Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ:
âœ… ĞŸÑ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
âœ… Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½ÑƒÑ ÑĞ¼ĞµÑ‚Ñƒ Ğ² ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¸

ĞĞ°Ñ‡Ğ½Ñ‘Ğ¼?"""

AREA_QUESTION = "ğŸ“ Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ Ğ¿Ğ¾Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ñ Ğ² Ğ¼Â²"
AREA_VALIDATION_ERROR = "âš ï¸ ĞŸĞ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ¾Ñ‚ 5 Ğ´Ğ¾ 200 Ğ¼Â²\nĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ĞµÑ‰Ñ‘ Ñ€Ğ°Ğ·:"
AREA_INVALID_INPUT = "âš ï¸ ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑƒĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾.\nĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: 25 Ğ¸Ğ»Ğ¸ 18.5"

CORNERS_QUESTION = "ğŸ”² Ğ¡ĞºĞ¾Ğ»ÑŒĞºĞ¾ ÑƒĞ³Ğ»Ğ¾Ğ² Ğ² Ğ¿Ğ¾Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğ¸?\n\nâš ï¸ Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑƒĞ³Ğ»Ñ‹ Ğ¾Ñ‚ 5-Ğ³Ğ¾ â€” Ğ¿Ğ¾ 103 â‚½/ÑˆÑ‚"

PERIMETER_QUESTION = """ğŸ“ Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ğ¿ĞµÑ€Ğ¸Ğ¼ĞµÑ‚Ñ€ Ğ¿Ğ¾Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ñ Ğ² Ğ¿Ğ¾Ğ³Ğ¾Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµÑ‚Ñ€Ğ°Ñ…

ğŸ’¡ Ğ”Ğ»Ñ ĞºĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ñ‹: Ğ¿ĞµÑ€Ğ¸Ğ¼ĞµÑ‚Ñ€ â‰ˆ 4 Ã— âˆšĞ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ"""
PERIMETER_VALIDATION_ERROR = "âš ï¸ ĞŸĞµÑ€Ğ¸Ğ¼ĞµÑ‚Ñ€ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ 0\nĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ĞµÑ‰Ñ‘ Ñ€Ğ°Ğ·:"
PERIMETER_INVALID_INPUT = "âš ï¸ ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑƒĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾.\nĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: 20 Ğ¸Ğ»Ğ¸ 18.5"

FABRIC_QUESTION = "ğŸ¨ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚Ğ¸Ğ¿ Ğ¿Ğ¾Ğ»Ğ¾Ñ‚Ğ½Ğ° Ğ´Ğ»Ñ Ğ½Ğ°Ñ‚ÑĞ¶Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ñ‚Ğ¾Ğ»ĞºĞ°"

PROFILE_QUESTION = "ğŸ”§ ĞšĞ°ĞºĞ¾Ğ¹ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ´Ğ»Ñ ĞºÑ€ĞµĞ¿Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ»Ğ¾Ñ‚Ğ½Ğ° Ğ²Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑÑƒĞµÑ‚?"

CORNICES_QUESTION = "ğŸªŸ ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºÑƒ ĞºĞ°Ñ€Ğ½Ğ¸Ğ·Ğ° Ğ´Ğ»Ñ ÑˆÑ‚Ğ¾Ñ€?"

CORNICE_LENGTH_QUESTION = "ğŸ“ Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ğ´Ğ»Ğ¸Ğ½Ñƒ ĞºĞ°Ñ€Ğ½Ğ¸Ğ·Ğ° Ğ² Ğ¿Ğ¾Ğ³Ğ¾Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµÑ‚Ñ€Ğ°Ñ…"

SPOTLIGHTS_QUESTION = (
    "ğŸ’¡ Ğ¡ĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ‚Ğ¾Ñ‡ĞµÑ‡Ğ½Ñ‹Ñ… ÑĞ²ĞµÑ‚Ğ¸Ğ»ÑŒĞ½Ğ¸ĞºĞ¾Ğ² Ğ½ÑƒĞ¶Ğ½Ğ¾ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ?\n\nĞ¦ĞµĞ½Ğ°: 513 â‚½/ÑˆÑ‚ (ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ´Ğ¾ 100 Ğ¼Ğ¼)"
)
SPOTLIGHTS_INVALID_INPUT = "âš ï¸ ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑƒĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ñ†ĞµĞ»Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾.\nĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: 8"

CERAMIC_QUESTION = "ğŸº Ğ‘ÑƒĞ´ĞµÑ‚ Ğ»Ğ¸ ĞºĞµÑ€Ğ°Ğ¼Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‚ Ğ½Ğ° ÑÑ‚ĞµĞ½Ğ°Ñ… Ğ² ÑĞ°Ğ½ÑƒĞ·Ğ»Ğµ?"

CERAMIC_AREA_QUESTION = "ğŸ“ Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ ĞºĞµÑ€Ğ°Ğ¼Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‚Ğ° (Ğ¿Ğ¾Ğ³.Ğ¼)\n\nĞ¦ĞµĞ½Ğ°: 615 â‚½/Ğ¿Ğ¾Ğ³.Ğ¼"
CERAMIC_AREA_INVALID_INPUT = "âš ï¸ ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑƒĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾.\nĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: 5.5"

CHANDELIERS_QUESTION = "ğŸ”† Ğ¡ĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ»ÑÑÑ‚Ñ€ Ğ½ÑƒĞ¶Ğ½Ğ¾ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ?\n\nĞ¦ĞµĞ½Ğ°: 615 â‚½/ÑˆÑ‚ (Ğ´Ğ¾ 5 ĞºĞ³)"
CHANDELIERS_INVALID_INPUT = "âš ï¸ ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑƒĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ñ†ĞµĞ»Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾.\nĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: 1"

ALL_QUESTIONS_COMPLETE = (
    "âœ… Ğ’ÑĞµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ñ‹!\n\nĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ½Ğ¸Ğ¶Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ:"
)

GENERATING_RESULT = "â³ Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒÑ Ğ²Ğ°Ñˆ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚..."


def _get_fabric_name(fabric_type: str) -> str:
    """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼Ğ¾Ğµ Ğ¸Ğ¼Ñ Ğ¿Ğ¾Ğ»Ğ¾Ñ‚Ğ½Ğ°.

    Args:
        fabric_type: Ğ¢Ğ¸Ğ¿ Ğ¿Ğ¾Ğ»Ğ¾Ñ‚Ğ½Ğ°

    Returns:
        Ğ§Ğ¸Ñ‚Ğ°ĞµĞ¼Ğ¾Ğµ Ğ¸Ğ¼Ñ Ğ¿Ğ¾Ğ»Ğ¾Ñ‚Ğ½Ğ°
    """
    fabric_names = {"msd": "MSD", "bauf": "BAUF"}
    return fabric_names.get(fabric_type, fabric_type)


def _get_profile_name(profile_type: str) -> str:
    """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼Ğ¾Ğµ Ğ¸Ğ¼Ñ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ.

    Args:
        profile_type: Ğ¢Ğ¸Ğ¿ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ

    Returns:
        Ğ§Ğ¸Ñ‚Ğ°ĞµĞ¼Ğ¾Ğµ Ğ¸Ğ¼Ñ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ
    """
    profile_names = {
        "insert": "Ğ¡Ğ¾ Ğ²ÑÑ‚Ğ°Ğ²ĞºĞ¾Ğ¹",
        "shadow_eco": "Ğ¢ĞµĞ½ĞµĞ²Ğ¾Ğ¹ Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼",
        "shadow_eurokraab": "Ğ¢ĞµĞ½ĞµĞ²Ğ¾Ğ¹ EuroKraab",
        "floating": "ĞŸĞ°Ñ€ÑÑ‰Ğ¸Ğ¹",
        "am1": "ĞĞ´Ğ½Ğ¾Ñ€Ğ¾Ğ´Ğ½Ñ‹Ğ¹ AM1",
    }
    return profile_names.get(profile_type, profile_type)


def _format_cost_line(description: str, cost: float) -> str:
    """Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ ÑÑ‚Ñ€Ğ¾ĞºÑƒ Ñ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼ Ğ¸ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒÑ.

    Args:
        description: ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸
        cost: Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ

    Returns:
        ĞÑ‚Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ¾ĞºĞ°
    """
    return f"âœ“ {description} â€” {cost:,.0f} â‚½".replace(",", " ")


def _build_cost_details(data: dict) -> list[str]:
    """Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ ÑĞ¿Ğ¸ÑĞ¾Ğº ÑÑ‚Ñ€Ğ¾Ğº Ñ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸ĞµĞ¹ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸.

    Args:
        data: Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ° Ğ¸ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

    Returns:
        Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑÑ‚Ñ€Ğ¾Ğº Ñ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸ĞµĞ¹
    """
    fabric_name = _get_fabric_name(data["fabric_type"])
    profile_name = _get_profile_name(data["profile_type"])

    lines = [
        _format_cost_line(f"ĞŸĞ¾Ğ»Ğ¾Ñ‚Ğ½Ğ¾ {fabric_name}", data["fabric_total"]),
        _format_cost_line(f"ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ {profile_name}", data["profile_total"]),
    ]

    if data.get("spotlights", 0) > 0:
        lines.append(
            _format_cost_line(f"Ğ¡Ğ²ĞµÑ‚Ğ¸Ğ»ÑŒĞ½Ğ¸ĞºĞ¸ ({data['spotlights']} ÑˆÑ‚)", data["spotlights_total"])
        )

    if data.get("ceramic_area", 0) > 0:
        lines.append(
            _format_cost_line(f"ĞšĞµÑ€Ğ°Ğ¼Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‚ ({data['ceramic_area']} Ğ¿Ğ¾Ğ³.Ğ¼)", data["ceramic_total"])
        )

    if data.get("chandeliers", 0) > 0:
        lines.append(
            _format_cost_line(f"Ğ›ÑÑÑ‚Ñ€Ğ° ({data['chandeliers']} ÑˆÑ‚)", data["chandeliers_total"])
        )

    if data.get("cornice_total", 0) > 0:
        lines.append(_format_cost_line("ĞšĞ°Ñ€Ğ½Ğ¸Ğ·", data["cornice_total"]))

    return lines


def format_result_message(data: dict) -> str:
    """Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ¼ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ°.

    Args:
        data: Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ° Ğ¸ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

    Returns:
        ĞÑ‚Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
    """
    lines = [
        "ğŸ“Š Ğ’ĞĞ¨ ĞŸĞ Ğ•Ğ”Ğ’ĞĞ Ğ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞ«Ğ™ Ğ ĞĞ¡Ğ§ĞĞ¢",
        "",
        f"ĞŸĞ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ: {data['area']} Ğ¼Â²",
        f"ĞŸĞµÑ€Ğ¸Ğ¼ĞµÑ‚Ñ€: {data['perimeter']} Ğ¿Ğ¾Ğ³.Ğ¼",
        f"Ğ£Ğ³Ğ»Ğ¾Ğ²: {data['corners']}",
        "",
        "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”",
        f"ğŸ’° Ğ˜Ğ¢ĞĞ“Ğ: {data['total_cost']:,.0f} â‚½".replace(",", " "),
        "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”",
        "",
        "ğŸ“‹ Ğ§Ñ‚Ğ¾ Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚:",
    ]

    lines.extend(_build_cost_details(data))
    lines.append("")
    lines.append("ğŸ’¡ Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑĞ¼ĞµÑ‚Ñ‹ ÑĞ²ÑĞ¶Ğ¸Ñ‚ĞµÑÑŒ Ñ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ğ¾Ğ¼")

    return "\n".join(lines)
